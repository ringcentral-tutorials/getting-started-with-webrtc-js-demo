<!DOCTYPE html><html><head><title>Getting Started with WebRTC- RingCentral Developer Tutorials</title><style>body, html {
  height:100%;
  width:100%;
  padding:0;
  margin:0;
  overflow:hidden;
  background-color:#ddd;
}
.wrapper {
  height:100%;
  width:100%;
}</style><link rel="shortcut icon" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="apple-touch-icon" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="apple-touch-icon" sizes="72x72" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="apple-touch-icon" sizes="114x114" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css"><link rel="stylesheet" href="viewsaurus.css"></head><body><div class="wrapper"><div class="dpw-header-container"><div class="dpw-header left-section"><div class="logo"><a href="https://developers.ringcentral.com" class="logo-link"></a></div></div></div><div id="viewsaurus" data-title="Getting Started with WebRTC"><div class="saurus-panes"><div class="saurus-panes-header"><a href="https://ringcentral.github.io/tutorials/" class="saurus-back-to-tutorials">Tutorials</a><span>&gt;</span><span>Getting Started with WebRTC</span></div><div class="saurus-prose"><div class="saurus-nav-buttons"><div class="saurus-nav-button nav-overview"><div class="saurus-nav-button-inner"><i class="fa fa-fw icon-menu"></i></div><div class="nav-divider"></div></div><div class="saurus-nav-button nav-previous"><div class="saurus-nav-button-inner"><a href=""> <i class="fa fa-fw fa-play fa-rotate-180"></i></a></div><div class="nav-divider"></div></div><div class="saurus-nav-button nav-next clickable"><div class="saurus-nav-button-inner"><a href="#1"> <i class="fa fa-fw fa-play"></i></a></div></div><div class="saurus-next-title"><span class="next-title-inner"></span></div></div><div class="saurus-progress-bar"></div><div class="saurus-start"><p>This tutorial will help developers understand the basics of using RingCentral WebRTC and the Web Phone Client Library using JavaScript. Click the &quot;Start&quot; button below to begin.</p><a href="#0">Start Tutorial</a></div><div class="saurus-content"><div data-title="Getting Started with RingCentral WebRTC" class="chapter"><div data-title="Welcome!" class="step"><h2 id="welcome-to-the-getting-started-with-ringcentral-webrtc-tutorial">Welcome to the Getting Started with RingCentral WebRTC Tutorial</h2>
<p><a href="">WebRTC</a> is a powerful communication tool available for developers which provides the capability implement WebRTC for making and receiving calls directly within their web applications.</p>
<h3 id="most-common-use-cases-for-webrtc">Most common use cases for WebRTC</h3>
<ul>
<li>SaaS - Call Telephony Integrations</li>
<li>CRM - Click to Dial </li>
</ul>
</div></div><div data-title="Web Phone Demo App" data-file="README.md" data-highlight="53-66" class="chapter"><div data-title="Prerequisites" class="step"><h2 id="requirements">Requirements</h2>
<ul>
<li>A RingCentral Account with Platform and API access (Don&#39;t have a RingCentral Account, no worries. <a href="https://developers.ringcentral.com/free-tier-sign-up.html">Get your free RingCentral Developer Account Now</a>)</li>
<li>An application defined in the <a href="https://developers.ringcentral.com">RingCentral Developer Portal</a> that has the following properties:<ul>
<li>Platform Type: Browser-Based</li>
<li>API Permissions: VOIP Calling, Read Accounts</li>
<li>Has a valid Redirect URI set</li>
</ul>
</li>
<li>A Digital Line configured in your RingCentral Account (this applies to both Sandbox and Production environments), see the <a href="https://github.com/ringcentral/ringcentral-web-phone#usage">Usage section of the Web Phone README.md</a> for helpful links about Digital Lines in RingCentral</li>
</ul>
</div><div data-title="Using the Demo" data-file="README.md" data-highlight="143-168" class="step"><h2 id="using-the-demo">Using the Demo</h2>
<p>Please follow the directions in the <a href="README.md">README.md</a> file under the <strong>Demo</strong> section to use the WebRTC Web Phone Demo app either locally or using the <a href="https://ringcentral-web-phone.herokuapp.com/demo">hosted Web Phone Demo App on Heroku</a></p>
</div></div><div data-title="Web Phone Client Library Installation" class="chapter"><div data-title="Installation" data-file="README.md" data-highlight="33-47" class="step"><h2 id="using-bower">Using Bower</h2>
<pre><code>npm install ringcentral-web-phone
</code></pre><h2 id="using-npm">Using NPM</h2>
<pre><code>npm install ringcentral-web-phone
</code></pre><h2 id="using-vanilla-js">Using Vanilla JS</h2>
<ol>
<li>Download SIP.JS: <a href="http://sipjs.com/download/sip-0.7.5.js">http://sipjs.com/download/sip-0.7.5.js</a></li>
<li>Download WebPhone SDK: <a href="https://cdn.rawgit.com/ringcentral/ringcentral-web-phone/master/src/ringcentral-web-phone.js">https://cdn.rawgit.com/ringcentral/ringcentral-web-phone/master/src/ringcentral-web-phone.js</a></li>
<li>Download audio files:<ol>
<li><a href="https://cdn.rawgit.com/ringcentral/ringcentral-web-phone/master/audio/incoming.ogg">https://cdn.rawgit.com/ringcentral/ringcentral-web-phone/master/audio/incoming.ogg</a></li>
<li><a href="https://cdn.rawgit.com/ringcentral/ringcentral-web-phone/master/audio/outgoing.ogg">https://cdn.rawgit.com/ringcentral/ringcentral-web-phone/master/audio/outgoing.ogg</a></li>
</ol>
</li>
</ol>
<p>Now, let&#39;s take a look at the code behind the Demo to become familiar with developing RingCentral WebRTC application integrations, <code>demo/index.html</code>.</p>
</div></div><div data-title="Demo Markup" class="chapter"><div data-title="Demo Markup" data-file="demo/index.html" data-highlight="36-37" class="step"><h2 id="required-markup">Required Markup</h2>
<p>Since WebRTC is browser-based, you will need to include two HTML5 video tags with some specific properties in your markup to operate the RingCentral Web Phone.</p>
<pre><code>&lt;video id=&quot;remoteVideo&quot; hidden=&quot;hidden&quot;&gt;&lt;/video&gt;
&lt;video id=&quot;localVideo&quot; hidden=&quot;hidden&quot; muted=&quot;muted&quot;&gt;&lt;/video&gt;
</code></pre></div><div data-title="Vendor Resources" data-file="demo/index.html" data-highlight="203-211" class="step"><h2 id="vendor-resources">Vendor Resources</h2>
<p>Additionally, the demo references some external JavaScript files. The following of which are required for the RingCentral Web Phone to operate. Please note that the <code>src</code> attributes for your application may differ depending upon your method of installation and where you install your vendor libraries.</p>
<ul>
<li>jQuery</li>
<li>Bootstrap (optional, but helpful)</li>
<li>Fetch </li>
<li>ES6-Promise</li>
<li>PubNub</li>
<li>SIP.js</li>
<li>RingCentral JS SDK</li>
<li>RingCentral Web Phone</li>
<li>Your Application Code (index.js)</li>
</ul>
<p>Next we will take a look at the templatized markup used to load various views of the Web Phone Demo.m</p>
</div><div data-title="Incoming Call UI" data-file="demo/index.html" data-highlight="39-65" class="step"><h2 id="incoming-call-ui">Incoming Call UI</h2>
<p>This template is used when the application code receives an incoming voice call.</p>
</div><div data-title="Make a Call UI" data-file="demo/index.html" data-highlight="67-86" class="step"><h2 id="make-a-call-ui">Make a Call UI</h2>
<p>When users have successfully authenticated with the demo application, this is the default UI displayed and is used for placing outbound voice calls using WebRTC.</p>
</div><div data-title="Login UI" data-file="demo/index.html" data-highlight="88-132" class="step"><h2 id="login-ui">Login UI</h2>
<p>When the demo application has initially loaded, and the user has not authenticated, this UI is displayed which supports using Password Flow Authentication (which actually should not be used with browser-based applications).</p>
</div><div data-title="Active Call UI" data-file="demo/index.html" data-highlight="134-201" class="step"><h2 id="active-call-ui">Active Call UI</h2>
<p>When a call has been placed (outbound) or received (inbound), and successfully accepted, this is the template UI which will be displayed to the user. In it, are all the primary operations of the Web Phone:</p>
<ul>
<li>Volume + / -</li>
<li>Mute / Unmute</li>
<li>Hold / Unhold</li>
<li>Start / Stop Recording</li>
<li>Transfer</li>
<li>Park </li>
<li>Flip</li>
<li>Send DTMF Tone</li>
</ul>
</div></div><div data-title="Demo JS App" class="chapter"><div data-title="Demo JS App" data-file="demo/index.js" class="step"><h2 id="index-js">Index.js</h2>
<p>Since WebRTC is browser-based, your application code to operate the RingCentral Web Phone will be written in JavaScript. This file is referenced (after all other dependencies) in your markup.</p>
</div><div data-title="App Vars" data-file="demo/index.js" data-highlight="3-19" class="step"><h2 id="application-variables">Application Variables</h2>
<p>We begin by setting up application variables which are required, and caching some jQuery selectors for simplified reference.</p>
</div><div data-title="Template Loader" data-file="demo/index.js" data-highlight="21-27" class="step"><h2 id="template-loader">Template Loader</h2>
<p>This function handles loading the templates of the demo. This is not a recommended pattern for production applications, since it introduces some potential memory leaks with any event bindings, but as this is a demo app...we do not mind as much.</p>
</div><div data-title="Obtain RingCentral API Token" data-file="demo/index.js" data-highlight="29-64" class="step"><h2 id="obtain-ringcentral-api-token">Obtain RingCentral API Token</h2>
<p>Here we are using the RingCentral JavaScript SDK to login to RingCentral and obtain a valid API token. You will want to replace this with an Authorization Flow (3-legged OAuth) implementation if you are using this code in a SaaS or &quot;multi-tenant&quot; application.</p>
<p>Once we have this data, we cache it in Local Storage of the browser, and lastly we retrieve information about the extension which has just authenticated.</p>
</div><div data-title="SIP Provisioning" data-file="demo/index.js" data-highlight="67-81" class="step"><h2 id="sip-provisioning">SIP Provisioning</h2>
<p>Once we have received the information about the currently authenticated extension, we attempt to provision SIP (which is used to determine if we are able to register as a WebRTC user for making and receiving calls over WebRTC).</p>
</div><div data-title="SIP Registration" data-file="demo/index.js" data-highlight="90-120" class="step"><h2 id="sip-registration">SIP Registration</h2>
<p>Once we have successfully received the client information and  provisioned SIP, we pass the SIP provisioning response to our <code>register</code> function which is responsible for creating the <strong>Web Phone</strong> and <strong>User Agent</strong> instances as well as registering event handlers on the <strong>User Agent</strong> object for the following events:</p>
<ul>
<li>Invite</li>
<li>Connecting</li>
<li>Connected</li>
<li>Disconnected</li>
<li>Registered</li>
<li>Unregistered</li>
<li>RegistrationFailed</li>
<li>Message</li>
</ul>
<p>Then the <strong>Web Phone</strong> object is returned to the <code>register</code> method caller.</p>
</div><div data-title="Load the Make Call Form" data-file="demo/index.js" data-highlight="360-382" class="step"><h2 id="load-the-make-call-form">Load the Make Call Form</h2>
<p>Once we have successfully registered and created the <strong>Web Phone</strong>, the promise chain calls the <code>makeCallForm</code> function which loads the appropriate UI template (Make Call Form) and registers an eventHandler to store the last dialed number, and which then executes the <code>makeCall</code> method (that actually uses the <strong>Web Phone</strong> to place the outbound voice call using WebRTC).</p>
</div><div data-title="Making the Call" data-file="demo/index.js" data-highlight="339-358" class="step"><h2 id="making-the-call">Making the Call</h2>
<p>The <code>makeCall</code> method expects a phone number and home country id to be passed.</p>
<p>This method defines a new <code>session</code> which is the result of executing the Web Phone&#39;s User Agent&#39;s <strong>invite</strong> method.</p>
<p>The <code>invite</code> method of the User Agent expects to be provided:</p>
<ul>
<li>number (str): the target phone number to dial in e.164 format</li>
<li>config object with the following properites:<ul>
<li>media (obj): which renders the required HTML we created earlier</li>
<li>fromNumber (str): the currently authenticated user&#39;s phone number in e.164 format</li>
<li>homeCountryId</li>
</ul>
</li>
</ul>
<p>Then the <code>onAccepted</code> method is called with the session (result of calling the User Agent&#39;s <strong>invite</strong> method) in the previous step.</p>
</div><div data-title="Accepted Calls" data-file="demo/index.js" data-highlight="171-337" class="step"><h2 id="accepted-calls">Accepted Calls</h2>
<p>This is one of the longest methods in the application (depending upon the types of functionalities you desire in your Web Phone application integrations). Since we include every operation available on the Web Phone, you can see the complete reference of how we handle each of these events here from both a UI and session perspective.</p>
<p>It is important to note that the <code>onAccepted</code> method is used for both inbound and outbound voice calls in the demo, but you may have differing use cases and requirements that demand a different architecture.</p>
<p>Also, you will see that all operations are performed on the <strong>session</strong> object while you are using the Web Phone library, but by using this resource your integration code can be simplified considerably.</p>
</div></div>
<div class="saurus-files" style="display:none;"><textarea class="saurus-file" data-file="README.md" data-mode="markdown">IyBSaW5nQ2VudHJhbCBXZWJQaG9uZSBMaWJyYXJ5CgpUaGUgUmluZ0NlbnRyYWwgV2ViUGhvbmUgTGlicmFyeSBpbmNsdWRlcyBhIEphdmFTY3JpcHQgV2ViUlRDIGxpYnJhcnkgYW5kIGEgV2ViUlRDIHBob25lIGRlbW8gYXBwLgoKIyMgUHJlcmVxdWlzaXRlcwoKWW91IHdpbGwgbmVlZCBhbiBhY3RpdmUgUmluZ0NlbnRyYWwgYWNjb3VudC4gRG9uJ3QgaGF2ZSBhbiBhY2NvdW50PyBbR2V0IHlvdXIgRnJlZSBSaW5nQ2VudHJhbCBEZXZlbG9wZXIgQWNjb3VudCBOb3chXShodHRwczovL2RldmVsb3BlcnMucmluZ2NlbnRyYWwuY29tKQoKIyMgVGFibGUgb2YgQ29udGVudHMKCjEuIFtJbnN0YWxsYXRpb25dKCNpbnN0YWxsYXRpb24pCjIuIFtVc2FnZV0oI3VzYWdlKQogIDEuIFtDb25maWd1cmluZyB5b3VyIFJpbmdDZW50cmFsIGFwcF0oI2NvbmZpZ3VyaW5nLXlvdXItcmluZ2NlbnRyYWwtYXBwKQogIDEuIFtJbmNsdWRlIExpYnJhcnkgQW5kIEhUTUwgRWxlbWVudHNdKCNpbmNsdWRlLWxpYnJhcnktYW5kLWh0bWwtZWxlbWVudHMpCiAgMi4gW0FwcGxpY2F0aW9uXSgjYXBwbGljYXRpb24pCjMuIFtEZW1vXSgjZGVtbykKNC4gW0FQSV0oI2FwaSkKICAxLiBbSW5pdGlhdGluZyBUaGUgQ2FsbF0oI2luaXRpYXRpbmctdGhlLWNhbGwpCiAgMS4gW0FjY2VwdGluZyBJbmNvbWluZyBDYWxsXSgjYWNjZXB0aW5nLWluY29taW5nLWNhbGwpCiAgMS4gW0RUTUZdKCNkdG1mKQogIDEuIFtIb2xkIFVuaG9sZF0oI2hvbGQtdW5ob2xkKQogIDEuIFtNdXRlIFVubXV0ZV0oI211dGUtdW5tdXRlKQogIDEuIFtQYXJrXSgjcGFyaykKICAxLiBbRmxpcF0oI2ZsaXApCiAgMS4gW1RyYW5zZmVyXSgjdHJhbnNmZXIpCiAgMS4gW1dhcm0gVHJhbnNmZXJdKCN3YXJtLXRyYW5zZmVyKQogIDEuIFtGb3J3YXJkXSgjZm9yd2FyZCkKICAxLiBbU3RhcnQvU3RvcCBSZWNvcmRpbmddKCNzdGFydHN0b3AtcmVjb3JkaW5nKQogIDEuIFtCYXJnZS9XaGlzcGVyXSgjYmFyZ2V3aGlzcGVyKQoKLS0tCgojIyBJbnN0YWxsYXRpb24KCmBgYHNzaApucG0gaW5zdGFsbCByaW5nY2VudHJhbC13ZWItcGhvbmUKLy8gb3IKYm93ZXIgaW5zdGFsbCByaW5nY2VudHJhbC13ZWItcGhvbmUKYGBgCgojIyMgSWYgeW91IGFyZSBub3QgdXNpbmcgQm93ZXIgb3IgTlBNOgoKMS4gRG93bmxvYWQgU0lQLkpTOiBbaHR0cDovL3NpcGpzLmNvbS9kb3dubG9hZC9zaXAtMC43LjUuanNdKGh0dHA6Ly9zaXBqcy5jb20vZG93bmxvYWQvc2lwLTAuNy41LmpzKQoyLiBEb3dubG9hZCBXZWJQaG9uZSBTREs6IFtodHRwczovL2Nkbi5yYXdnaXQuY29tL3JpbmdjZW50cmFsL3JpbmdjZW50cmFsLXdlYi1waG9uZS9tYXN0ZXIvc3JjL3JpbmdjZW50cmFsLXdlYi1waG9uZS5qc10oaHR0cHM6Ly9jZG4ucmF3Z2l0LmNvbS9yaW5nY2VudHJhbC9yaW5nY2VudHJhbC13ZWItcGhvbmUvbWFzdGVyL3NyYy9yaW5nY2VudHJhbC13ZWItcGhvbmUuanMpCjMuIERvd25sb2FkIGF1ZGlvIGZpbGVzOgogICAgMS4gW2h0dHBzOi8vY2RuLnJhd2dpdC5jb20vcmluZ2NlbnRyYWwvcmluZ2NlbnRyYWwtd2ViLXBob25lL21hc3Rlci9hdWRpby9pbmNvbWluZy5vZ2ddKGh0dHBzOi8vY2RuLnJhd2dpdC5jb20vcmluZ2NlbnRyYWwvcmluZ2NlbnRyYWwtd2ViLXBob25lL21hc3Rlci9hdWRpby9pbmNvbWluZy5vZ2cpCiAgICAyLiBbaHR0cHM6Ly9jZG4ucmF3Z2l0LmNvbS9yaW5nY2VudHJhbC9yaW5nY2VudHJhbC13ZWItcGhvbmUvbWFzdGVyL2F1ZGlvL291dGdvaW5nLm9nZ10oaHR0cHM6Ly9jZG4ucmF3Z2l0LmNvbS9yaW5nY2VudHJhbC9yaW5nY2VudHJhbC13ZWItcGhvbmUvbWFzdGVyL2F1ZGlvL291dGdvaW5nLm9nZykKCi0tLQoKIyMgVXNhZ2UKCiMjIyBDb25maWd1cmluZyB5b3VyIFJpbmdDZW50cmFsIGFwcAoKRW5zdXJlIHlvdXIgYXBwIGhhcyB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXMgc2V0LiBJZiB0aGVzZSBhcmUgbm90IHNldCwgdGhlIGVycm9yIHNwZWNpZmllZCB3aWxsIGJlIHJldHVybmVkLgoKQXBwIFByb3BlcnR5ICB8IFZhbHVlICAgICAgICAgICB8IEVycm9yIGlmIG5vdCBzZXQKLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0KUGVybWlzc2lvbnMgICB8IGBWb0lQIENhbGxpbmdgICB8IGBTcGVjaWZpYyBhcHBsaWNhdGlvbiBwZXJtaXNzaW9uIHJlcXVpcmVkYApQbGF0Zm9ybSB0eXBlIHwgYEJyb3dzZXItYmFzZWRgIHwgYENsaWVudCBlZGl0aW9uIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggY3VycmVudCBCcmFuZGAKClNpbmNlIFdlYlJUQyBlbmFibGVzIGRpYWxpbmcgb3V0LCB5b3UgbmVlZCB0byBoYXZlIGEgYERJR0lUQUwgTElORWAgYXR0YWNoZWQgdG8gYW4gZXh0ZW5zaW9uIHRvIHVzZSB0aGlzIGNhcGFiaWxpdHkuIFlvdSBjYW4gY29uZmlndXJlIHRoaXMgaW4gT25saW5lIFdlYiBQb3J0YWwgZm9yIFtQcm9kdWN0aW9uXShodHRwczovL3NlcnZpY2UucmluZ2NlbnRyYWwuY29tLykgYW5kIFtTYW5kYm94XShodHRwczovL3NlcnZpY2UuZGV2dGVzdC5yaW5nY2VudHJhbC5jb20vKSBhY2NvdW50cy4gTW9yZSBpbmZvcm1hdGlvbiBvbiBEaWdpdGFsIExpbmVzIGFuZCB0aGVpciBjb25maWd1cmF0aW9uIGlzIGF2YWlsYWJsZSBpbiB0aGUgZm9sbG93aW5nIFJpbmdDZW50cmFsIEtub3dsZWRnZSBCYXNlIGFydGljbGUgdG9waWNzOgoKMS4gW0RpZ2l0YWwgTGluZSBPdmVydmlldyAoS0IgNTg2MildKGh0dHA6Ly9zdWNjZXNzLnJpbmdjZW50cmFsLmNvbS9hcnRpY2xlcy9lbl9VUy9SQ19Lbm93bGVkZ2VfQXJ0aWNsZS81ODYyKQoyLiBbQWRkaW5nIGEgRGlnaXRhbCBMaW5lIChLQiAzMTM2KV0oaHR0cDovL3N1Y2Nlc3MucmluZ2NlbnRyYWwuY29tL2FydGljbGVzL1JDX0tub3dsZWRnZV9BcnRpY2xlLzUtMTAtQWRkaW5nLVBob25lcy10by1vdGhlci1leHRlbnNpb25zLXZpYS1XZWIpLiBBIGxpbWl0ZWQgbnVtYmVyIG9mIERpZ2l0YWwgTGluZXMgYXJlIGZyZWUgd2l0aCBlYWNoIHNhbmRib3ggYWNjb3VudCB3aGljaCBjYW4gYmUgY29uZmlndXJlZCB3aXRoIHRoZSBmcmVlIFJpbmdDZW50cmFsIGZvciBEZXNrdG9wIHNvZnRwaG9uZS4KMy4gW1JlYXNzaWduaW5nIGFuIEV4aXN0aW5nIERpZ2l0YWwgTGluZSAoS0IgMzc0OCldKGh0dHA6Ly9zdWNjZXNzLnJpbmdjZW50cmFsLmNvbS9hcnRpY2xlcy9lbl9VUy9SQ19Lbm93bGVkZ2VfQXJ0aWNsZS9Ib3ctdG8tQXNzaWduLWFuLUV4aXN0aW5nLURpZ2l0YWwtTGluZS10by1hLWRpZmZlcmVudC1leHRlbnNpb24pCgpUaGVzZSBwZXJtaXNzaW9ucyBiZSBjb25maWd1cmVkIGZvciB5b3VyIGFwcCBpbiB0aGUgW1JpbmdDZW50cmFsIERldmVsb3BlciBQb3J0YWxdKGh0dHBzOi8vZGV2ZWxvcGVycy5yaW5nY2VudHJhbC5jb20vKS4gRmlsbCB0aGlzIFtSZWdpc3RyYXRpb24gRm9ybV0oaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vZm9ybXMvZC8xNWtLX3pKNUZoeVhpSDhnd09xaWFHN19CdVRXR0NlZVZyNE1BdjRPQnBVTS92aWV3Zm9ybSkgdG8gZ2V0IGFjY2VzcyB0byBXZWJSVEMgcGVybWlzc2lvbnMuIFBsZWFzZSBjb250YWN0IGRldnN1cHBvcnRAcmluZ2NlbnRyYWwuY29tIHRvIHJlcXVlc3QgdGhlc2UgcGVybWlzc2lvbnMuCgojIyMgSW5jbHVkZSBMaWJyYXJ5IEFuZCBIVE1MIEVsZW1lbnRzCgpgYGBodG1sCjx2aWRlbyBpZD0icmVtb3RlVmlkZW8iIGhpZGRlbj0iaGlkZGVuIj48L3ZpZGVvPgo8dmlkZW8gaWQ9ImxvY2FsVmlkZW8iIGhpZGRlbj0iaGlkZGVuIiBtdXRlZD0ibXV0ZWQiPjwvdmlkZW8+Cgo8c2NyaXB0IHNyYz0iLi4uL3NpcC5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KPHNjcmlwdCBzcmM9Ii4uLi9yaW5nY2VudHJhbC13ZWItcGhvbmUuanMiIHR5cGU9InRleHQvamF2YXNjcmlwdCI+PC9zY3JpcHQ+CmBgYAoKIyMjIEFwcGxpY2F0aW9uCgpGb3IgdGhpcyBleGFtcGxlIHlvdSB3aWxsIGFsc28gbmVlZCB0byBoYXZlIFtSaW5nQ2VudHJhbCBKUyBTREsgaW5zdGFsbGVkXShodHRwczovL2dpdGh1Yi5jb20vcmluZ2NlbnRyYWwvcmluZ2NlbnRyYWwtanMjaW5zdGFsbGF0aW9uKS4KCkNvbmZpZ3VyZSB0aGUgd2ViLXBob25lCgpgYGBqcwp2YXIgYXBwS2V5ID0gJy4uLic7IAp2YXIgYXBwU2VjcmV0ID0gJy4uLic7CnZhciBhcHBOYW1lID0gJy4uLic7CnZhciBhcHBWZXJzaW9uID0gJy4uLic7CiAKdmFyIHNkayA9IG5ldyBSaW5nQ2VudHJhbC5TREsoewogICAgYXBwS2V5OiBhcHBLZXksCiAgICBhcHBTZWNyZXQ6IGFwcFNlY3JldCwKICAgIGFwcE5hbWU6IGFwcE5hbWUsCiAgICBhcHBWZXJzaW9uOiBhcHBWZXJzaW9uLAogICAgc2VydmVyOiBSaW5nQ2VudHJhbC5TREsuc2VydmVyLnByb2R1Y3Rpb24gLy8gb3IgLnNhbmRib3gKfSk7Cgp2YXIgcGxhdGZvcm0gPSBzZGsucGxhdGZvcm0oKTsKCnBsYXRmb3JtCiAgICAubG9naW4oewogICAgICAgIHVzZXJuYW1lOiAnLi4uJywKICAgICAgICBwYXNzd29yZDogJy4uLicKICAgIH0pCiAgICAudGhlbihmdW5jdGlvbihsb2dpblJlc3BvbnNlKSB7CiAgICAKICAgICAgICByZXR1cm4gcGxhdGZvcm0KICAgICAgICAgICAgLnBvc3QoJy9jbGllbnQtaW5mby9zaXAtcHJvdmlzaW9uJywgewogICAgICAgICAgICAgICAgc2lwSW5mbzogW3t0cmFuc3BvcnQ6ICdXU1MnfV0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzKSB7IC8vIERvaW5nIG5lc3RlZCB0aGVuIGJlY2F1c2Ugd2UgbmVlZCBsb2dpblJlc3BvbnNlIGluIGEgc2ltcGxlIHdheQogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmluZ0NlbnRyYWwuV2ViUGhvbmUocmVzLmpzb24oKSwgeyAvLyBvcHRpb25hbAogICAgICAgICAgICAgICAgICAgIGFwcEtleTogYXBwS2V5LAogICAgICAgICAgICAgICAgICAgIGFwcE5hbWU6IGFwcE5hbWUsCiAgICAgICAgICAgICAgICAgICAgYXBwVmVyc2lvbjogYXBwVmVyc2lvbiwKICAgICAgICAgICAgICAgICAgICB1dWlkOiBsb2dpblJlc3BvbnNlLmpzb24oKS5lbmRwb2ludF9pZCwKICAgICAgICAgICAgICAgICAgICBsb2dMZXZlbDogMSwgLy8gZXJyb3IgMCwgd2FybiAxLCBsb2c6IDIsIGRlYnVnOiAzCiAgICAgICAgICAgICAgICAgICAgYXVkaW9IZWxwZXI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSwgLy8gZW5hYmxlcyBhdWRpbyBmZWVkYmFjayB3aGVuIHdlYiBwaG9uZSBpcyByaW5naW5nIG9yIG1ha2luZyBhIGNhbGwKICAgICAgICAgICAgICAgICAgICAgICAgaW5jb21pbmc6ICdwYXRoLXRvLWF1ZGlvL2luY29taW5nLm9nZycsIC8vIHBhdGggdG8gYXVkaW8gZmlsZSBmb3IgaW5jb21pbmcgY2FsbAogICAgICAgICAgICAgICAgICAgICAgICBvdXRnb2luZzogJ3BhdGgtdG8tYXVkaW8vb3V0Z29pbmcub2dnJyAvLyBwYXRoIHRvIGFkdW90ZmlsZSBmb3Igb3V0Z29pbmcgY2FsbAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwogICAgICAgIAogICAgfSkKICAgIC50aGVuKGZ1bmN0aW9uKHdlYlBob25lKXsKICAgIAogICAgICAgIC8vIFlPVVIgQ09ERSBIRVJFCiAgICAKICAgIH0pCiAgICAuY2F0Y2goZnVuY3Rpb24oZSl7CiAgICAgICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTsKICAgIH0pOwpgYGAKCi0tLQoKIyMgRGVtbwoKYGBgc2gKJCBnaXQgY2xvbmUgaHR0cHM6Ly9naXRodWIuY29tL3JpbmdjZW50cmFsL3JpbmdjZW50cmFsLXdlYi1waG9uZS5naXQKJCBjZCByaW5nY2VudHJhbC13ZWItcGhvbmUKJCBucG0gc3RhcnQKYGBgCgoxLiBPcGVuIGBodHRwOi8vbG9jYWxob3N0OjgwODAvZGVtby9gIGluIHRoZSBicm93c2VyIChwb3J0IG1heSBjaGFuZ2UgaWYgYDgwODBgIHdpbGwgYmUgYWxyZWFkeSB1c2VkIGJ5IG90aGVyIGFwcCkKMi4gQWRkIHlvdXIgUkMgY3JlZGVudGlhbHMgYW5kIGNsaWNrIG9uIGBSZWdpc3RlcmAKMy4gRm9yIG1ha2luZyBvdXRib3VuZCBjYWxscywgZW50ZXIgcGhvbmUgbnVtYmVyIGFuZCBjbGljayBvbiBgQ2FsbGAKNC4gRm9yIHJlY2VpdmluZyBpbmNvbWluZyBjYWxscywgQ2xpY2sgb24gYEFjY2VwdGAgYnV0dG9uIHdoZW4gd2luZG93IHBvcHMgdXAgKHdpbGwgYmUgdmlzaWJsZSB3aGVuIHRoZXJlIGlzIGFuIGluY29taW5nIGNhbGwpCgpJZiB0aGVyZSdzIGFueSBjb25uZWN0aW9uIHByb2JsZW1zIHRvIFNhbmRib3ggZW52aXJvbm1lbnQsIHlvdSBtYXkgbmVlZCB0byBzd2l0Y2ggdG8gdGhlIFByb2R1Y3Rpb24gZW52aXJvbm1lbnQuCgpXZWJSVEMgd29ya3Mgd2l0aCBpc3N1ZXMgd2hlbiBzZXJ2ZWQgZnJvbSBmaWxlIHN5c3RlbSBkaXJlY3RseSB0byBicm93c2VyIChlLmcuIGBmaWxlOi8vYCBwcm90b2NvbCksIHNvIHlvdSB3aWxsIG5lZWQgYSBsb2NhbCBIVFRQIHNlcnZlciAoY29tZXMgd2l0aCB0aGlzIHBhY2thZ2UpLgoKT25saW5lIGRlbW8gaXMgaG9zdGVkIGF0IFtodHRwczovL3JpbmdjZW50cmFsLXdlYi1waG9uZS5oZXJva3VhcHAuY29tL2RlbW9dKGh0dHBzOi8vcmluZ2NlbnRyYWwtd2ViLXBob25lLmhlcm9rdWFwcC5jb20vZGVtbykuCgotLS0KCiMjIEFQSQoKRXhjZXB0IGZvciBzb21lIFJpbmdDZW50cmFsLXNwZWNpZmljIGZlYXR1cmVzIHRoZSBBUEkgaXMgMTAwJSB0aGUgc2FtZSBhcyBTSVAuSlM6IGh0dHA6Ly9zaXBqcy5jb20vYXBpLzAuNy4wOiBtb3N0IG9mIHRoZSB0aW1lIHlvdSB3aWxsIGJlIHdvcmtpbmcgd2l0aCBSQy1mbGF2b3JlZCBbVXNlckFnZW50XShodHRwOi8vc2lwanMuY29tL2FwaS8wLjcuMC91YSkgYW5kIFtTZXNzaW9uXShodHRwOi8vc2lwanMuY29tL2FwaS8wLjcuMC9zZXNzaW9uKSBvYmplY3RzIG9mIFNJUC5KUy4KCldlIGVuY291cmFnZSB5b3UgdG8gdGFrZSBhIGxvb2sgYXQgW0d1aWRlc10oaHR0cDovL3NpcGpzLmNvbS9ndWlkZXMpIHNlY3Rpb24sIGVzcGVjaWFsbHkKW01ha2UgQSBDYWxsXShodHRwOi8vc2lwanMuY29tL2d1aWRlcy9tYWtlLWNhbGwpIGFuZCBbUmVjZWl2ZSBBIENhbGxdKGh0dHA6Ly9zaXBqcy5jb20vZ3VpZGVzL3JlY2VpdmUtY2FsbC8pIGFydGljbGVzLgoKIyMjIENvbnN0cnVjdG9yCgpgYGBqcwp2YXIgd2ViUGhvbmUgPSBuZXcgUmluZ0NlbnRyYWwuV2ViUGhvbmUocHJvdmlzaW9uRGF0YSwgb3B0aW9ucyk7CmBgYAoKLSBQcm92aXNpb24gRGF0YSAmbWRhc2g7IHRoZSBKU09OIHJldHVybmVkIGZyb20gYC9jbGllbnQtaW5mby9zaXAtcHJvdmlzaW9uYCBBUEkgZW5kcG9pbnQKLSBPcHRpb25zICZtZGFzaDsgb2JqZWN0IHdpdGggdmFyaW91cyBjb25maWd1cmF0aW9uIG9wdGlvbnMgdGhhdCBhZGp1c3QgV2ViUGhvbmUgYmVoYXZpb3IKICAgIC0gYGFwcEtleWAgJm1kYXNoOyB5b3VyIGFwcGxpY2F0aW9uIGtleSAKICAgIC0gYGFwcE5hbWVgICZtZGFzaDsgeW91ciBhcHBsaWNhdGlvbiBzaG9ydCBjb2RlIG5hbWUgCiAgICAtIGBhcHBWZXJzaW9uYCAmbWRhc2g7IHlvdXIgYXBwbGljYXRpb24gdmVyc2lvbiAKICAgIC0gYHV1aWRgICZtZGFzaDsgbWFudWFsbHkgcHJvdmlkZSB0aGUgdW5pcXVlIGlkZW50aWZpZXIgb2YgV2ViUGhvbmUgaW5zdGFuY2UgKHNob3VsZCBwZXJzaXN0IGJldHdlZW4gcGFnZSByZWxvYWRzKQogICAgLSBgbG9nTGV2ZWxgICZtZGFzaDsgY29udHJvbHMgdmVyYm9zZW5lc3MgaW4gYnJvd3NlciBjb25zb2xlCiAgICAgICAgLSBgMGAgJm1kYXNoOyBFcnJvcnMgb25seSAoZ29vZCBmb3IgcHJvZHVjdGlvbikKICAgICAgICAtIGAxYCAmbWRhc2g7IEVycm9ycyAmIHdhcm5pbmdzCiAgICAgICAgLSBgMmAgJm1kYXNoOyBFcnJvcnMsIHdhcm5pbmdzLCBsb2dzCiAgICAgICAgLSBgM2AgJm1kYXNoOyBFdmVyeXRoaW5nIGluY2x1ZGluZyBkZWJ1ZyBpbmZvcm1hdGlvbiAoZ29vZCBmb3IgZGV2ZWxvcG1lbnQpCiAgICAtIGBhdWRpb0hlbHBlcmAgJm1kYXNoOyBhdWRpbyBmZWVkYmFjayB3aGVuIHdlYiBwaG9uZSBpcyByaW5naW5nIG9yIG1ha2luZyBhIGNhbGwKICAgICAgICAtIGBlbmFibGVkYCAmbWRhc2g7IHR1cm5zIGZlZWRiYWNrIG9uIGFuZCBvZmYKICAgICAgICAtIGBpbmNvbWluZ2AgJm1kYXNoOyBwYXRoIHRvIGBpbmNvbWluZy5vZ2dgLCBhdWRpbyBmaWxlIGZvciBpbmNvbWluZyBjYWxsCiAgICAgICAgLSBgb3V0Z29pbmdgICZtZGFzaDsgcGF0aCB0byBgb3V0Z29pbmcub2dnYCwgYXVkaW8gZmlsZSBmb3Igb3V0Z29pbmcgY2FsbAogICAgLSBgb25TZXNzaW9uYCAmbWRhc2g7IHRoaXMgY2FsbGJhY2sgd2lsbCBiZSBmaXJlZCBlYWNoIHRpbWUgVXNlciBBZ2VudCBzdGFydHMgd29ya2luZyB3aXRoIHNlc3Npb24gKGluY29taW5nIG9yIG91dGdvaW5nKQoKIyMjIEluaXRpYXRpbmcgVGhlIENhbGwKCmBgYGphdmFzY3JpcHQKdmFyIHNlc3Npb24gPSB3ZWJQaG9uZS51c2VyQWdlbnQuaW52aXRlKCdQSE9ORV9OVU1CRVInLCB7CiAgICBtZWRpYTogewogICAgICAgIHJlbmRlcjogewogICAgICAgICAgICByZW1vdGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZW1vdGVWaWRlbycpLAogICAgICAgICAgICBsb2NhbDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvY2FsVmlkZW8nKQogICAgICAgIH0KICAgIH0sCiAgICBmcm9tTnVtYmVyOiAnUEhPTkVfTlVNQkVSJywgLy8gT3B0aW9uYWwsIENvbXBhbnkgTnVtYmVyIHdpbGwgYmUgdXNlZCBhcyBkZWZhdWx0CiAgICBob21lQ291bnRyeUlkOiAnMScgLy8gT3B0aW9uYWwsIHRoZSB2YWx1ZSBvZgp9KTsKYGBgCgojIyMgQWNjZXB0aW5nIEluY29taW5nIENhbGwKCmBgYGphdmFzY3JpcHQKd2ViUGhvbmUudXNlckFnZW50Lm9uKCdpbnZpdGUnLCBmdW5jdGlvbihzZXNzaW9uKXsKICAgIHNlc3Npb24uYWNjZXB0KHsKICAgICAgICBtZWRpYTogewogICAgICAgICAgICByZW5kZXI6IHsKICAgICAgICAgICAgICAgIHJlbW90ZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlbW90ZVZpZGVvJyksCiAgICAgICAgICAgICAgICBsb2NhbDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvY2FsVmlkZW8nKQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSkudGhlbiguLi4pOwp9KTsKYGBgCgojIyMgRFRNRgoKQ2FsbGVlIHdpbGwgYmUgcHV0IG9uIGhvbGQgYW5kIHRoZSBhbm90aGVyIHBlcnNvbiBjYW4gam9pbiBpbnRvIHRoZSBjYWxsIGJ5IGRpYWxpbmcgdGhlIGV4dGVuc2lvbiBudW1iZXIgYW5ub3VuY2VkIHdpdGhpbiB0aGUgY2FsbC4KCmBgYGpzCnNlc3Npb24uZHRtZignRFRNRl9ESUdJVFMnKS50aGVuKC4uLik7CmBgYAoKIyMjIEhvbGQgVW5ob2xkCgpDYWxsZWUgd2lsbCBiZSBwdXQgb24gaG9sZCBhbmQgdGhlIGFub3RoZXIgcGVyc29uIGNhbiBqb2luIGludG8gdGhlIGNhbGwgYnkgZGlhbGluZyB0aGUgZXh0ZW5zaW9uIG51bWJlciBhbm5vdW5jZWQgd2l0aGluIHRoZSBjYWxsLgoKYGBganMKc2Vzc2lvbi5ob2xkKCkudGhlbiguLi4pOwpzZXNzaW9uLnVuaG9sZCgpLnRoZW4oLi4uKTsKYGBgCgojIyMgTXV0ZSBVbm11dGUKCkNhbGxlZSB3aWxsIGJlIHB1dCBvbiBtdXRlIG9yIHVubXV0ZQoKYGBganMKc2Vzc2lvbi5tdXRlKCk7CnNlc3Npb24udW5tdXRlKCk7CmBgYAoKIyMjIFBhcmsKCkNhbGxlZSB3aWxsIGJlIHB1dCBvbiBob2xkIGFuZCB0aGUgYW5vdGhlciBwZXJzb24gY2FuIGpvaW4gaW50byB0aGUgY2FsbCBieSBkaWFsaW5nIHRoZSBleHRlbnNpb24gbnVtYmVyIGFubm91bmNlZCB3aXRoaW4gdGhlIGNhbGwuCgpgYGBqcwpzZXNzaW9uLnBhcmsoKS50aGVuKC4uLik7CmBgYAoKIyMjIEZsaXAKCkNhbGxlciBjYW4gZmlscCBjYWxscyB0byBkaWZmZXJlbnQgZGV2aWNlcyBsb2dnZWQgaW4gdGhyb3VnaCB0aGUgc2FtZSBjcmVkZW50aWFscy4KCmBgYGpzCnNlc3Npb24uZmxpcCgnVEFSR0VUX05VTUJFUicpLnRoZW4oLi4uKTsKYGBgCgojIyMgVHJhbnNmZXIKCmBgYGpzCnNlc3Npb24udHJhbnNmZXIoJ1RBUkdFVF9OVU1CRVInKS50aGVuKC4uLik7CmBgYAoKIyMjIFdhcm0gVHJhbnNmZXIKCklmIGFuIGFnZW50IGhhcyBhbiBhY3RpdmUgY2FsbCB3aXRoIGEgY3VzdG9tZXIgYW5kIG5lZWRzIHRvIHRyYW5zZmVyIHRoaXMgY2FsbCB0byBhIHN1cGVydmlzb3IsIHRoZW4gYWdlbnQgcHV0cyBleGlzdGluZwpjYWxsIG9uIGhvbGQsIG1ha2VzIGEgY2FsbCB0byBhIHN1cGVydmlzb3IgYW5kIHdoZW4gcmVhZHkgcGVyZm9ybXMgYSB3YXJtIHRyYW5zZmVyLiBDdXN0b21lciB3aWxsIGJlIGNvbm5lY3RlZCB0bwpzdXBlcnZpc29yIGFuZCB0aGUgY2FsbCBiZXR3ZWVuIGN1c3RvbWVyIGFuZCBhZ2VudCB3aWxsIGJlIGRpc2Nvbm5lY3RlZC4KCldhcm0gdHJhbnNmZXIgcHV0cyBjdXJyZW50IGxpbmUgb24gaG9sZCAoaWYgbm90IGRvbmUgeWV0KSB0aGVuIHRha2VzIGFuIGV4aXN0aW5nIGxpbmUgZnJvbSBhcmd1bWVudHMgYW5kIG1ha2VzIHRyYW5zZmVyLgoKYGBganMKc2Vzc2lvbi5ob2xkKCkudGhlbihmdW5jdGlvbigpewogICAgCiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXsKICAgICAgICAgICAgCiAgICAgICAgdmFyIG5ld1Nlc3Npb24gPSB3ZWJQaG9uZS51c2VyQWdlbnQuaW52aXRlKCdQSE9ORV9OVU1CRVInLCB7CiAgICAgICAgICAgIG1lZGlhOiB7fQogICAgICAgIH0pOwogICAgICAgIAogICAgICAgIC8vIHdoZW4gcmVhZHkgY2FsbCB0aGUgZm9sbG93aW5nIGNvZGUsIGZvciBleGFtcGxlIHdoZW4gdXNlciBjbGlja3MgIkNvbXBsZXRlIFRyYW5zZmVyIiBidXR0b24KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tcGxldGUtdHJhbnNmZXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHJlc29sdmUoc2Vzc2lvbi53YXJtVHJhbnNmZXIobmV3U2Vzc2lvbikpOwogICAgICAgIH0pOwoKICAgIH0pOwogICAgICAgIAp9KS50aGVuKC4uLikuY2F0Y2goLi4uKTsKYGBgCgojIyMgRm9yd2FyZAoKYGBganMKc2Vzc2lvbi5mb3J3YXJkKCdUQVJHRVRfTlVNQkVSJykudGhlbiguLi4pOwpgYGAKCiMjIyBTdGFydC9TdG9wIFJlY29yZGluZwoKYGBganMKc2Vzc2lvbi5zdGFydFJlY29yZCgpLnRoZW4oLi4uKTsKc2Vzc2lvbi5zdG9wUmVjb3JkKCkudGhlbiguLi4pOwpgYGAKCiMjIyBCYXJnZS9XaGlzcGVyCgpOb3QgeWV0IGltcGxlbWVudGVkLiBDb3VsZCBiZSBkb25lIGJ5IGRpYWxpbmcgXCo4My4gVGhlIGFjY291bnQgc2hvdWxkIGJlIGVuYWJsZWQgZm9yIGJhcmdlL3doaXNwZXIgYWNjZXNzIHRocm91Z2ggc3lzdGVtIGFkbWluLgoK</textarea>
<textarea class="saurus-file" data-file="demo/index.html" data-mode="html">PCFET0NUWVBFIGh0bWw+CjxodG1sPgo8aGVhZD4KICAgIDx0aXRsZT5XZWJQaG9uZTwvdGl0bGU+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Ii8vY2RuLmpzZGVsaXZyLm5ldC9ib290c3RyYXAvMy4zLjcvY3NzL2Jvb3RzdHJhcC5jc3MiIGNyb3Nzb3JpZ2luPSJhbm9ueW1vdXMiPgogICAgPGxpbmsgcmVsPSJhcHBsZS10b3VjaC1pY29uIiBzaXplcz0iNTd4NTciIGhyZWY9ImltZy9hcHBsZS10b3VjaC1pY29uLTU3eDU3LnBuZyI+CiAgICA8bGluayByZWw9ImFwcGxlLXRvdWNoLWljb24iIHNpemVzPSI2MHg2MCIgaHJlZj0iaW1nL2FwcGxlLXRvdWNoLWljb24tNjB4NjAucG5nIj4KICAgIDxsaW5rIHJlbD0iYXBwbGUtdG91Y2gtaWNvbiIgc2l6ZXM9IjcyeDcyIiBocmVmPSJpbWcvYXBwbGUtdG91Y2gtaWNvbi03Mng3Mi5wbmciPgogICAgPGxpbmsgcmVsPSJhcHBsZS10b3VjaC1pY29uIiBzaXplcz0iNzZ4NzYiIGhyZWY9ImltZy9hcHBsZS10b3VjaC1pY29uLTc2eDc2LnBuZyI+CiAgICA8bGluayByZWw9ImFwcGxlLXRvdWNoLWljb24iIHNpemVzPSIxMTR4MTE0IiBocmVmPSJpbWcvYXBwbGUtdG91Y2gtaWNvbi0xMTR4MTE0LnBuZyI+CiAgICA8bGluayByZWw9ImFwcGxlLXRvdWNoLWljb24iIHNpemVzPSIxMjB4MTIwIiBocmVmPSJpbWcvYXBwbGUtdG91Y2gtaWNvbi0xMjB4MTIwLnBuZyI+CiAgICA8bGluayByZWw9ImFwcGxlLXRvdWNoLWljb24iIHNpemVzPSIxNDR4MTQ0IiBocmVmPSJpbWcvYXBwbGUtdG91Y2gtaWNvbi0xNDR4MTQ0LnBuZyI+CiAgICA8bGluayByZWw9ImFwcGxlLXRvdWNoLWljb24iIHNpemVzPSIxNTJ4MTUyIiBocmVmPSJpbWcvYXBwbGUtdG91Y2gtaWNvbi0xNTJ4MTUyLnBuZyI+CiAgICA8bGluayByZWw9ImFwcGxlLXRvdWNoLWljb24iIHNpemVzPSIxODB4MTgwIiBocmVmPSJpbWcvYXBwbGUtdG91Y2gtaWNvbi0xODB4MTgwLnBuZyI+CiAgICA8bGluayByZWw9Imljb24iIHR5cGU9ImltYWdlL3BuZyIgaHJlZj0iaW1nL2Zhdmljb24tMzJ4MzIucG5nIiBzaXplcz0iMzJ4MzIiPgogICAgPGxpbmsgcmVsPSJpY29uIiB0eXBlPSJpbWFnZS9wbmciIGhyZWY9ImltZy9hbmRyb2lkLWNocm9tZS0xOTJ4MTkyLnBuZyIgc2l6ZXM9IjE5MngxOTIiPgogICAgPGxpbmsgcmVsPSJpY29uIiB0eXBlPSJpbWFnZS9wbmciIGhyZWY9ImltZy9mYXZpY29uLTk2eDk2LnBuZyIgc2l6ZXM9Ijk2eDk2Ij4KICAgIDxsaW5rIHJlbD0iaWNvbiIgdHlwZT0iaW1hZ2UvcG5nIiBocmVmPSJpbWcvZmF2aWNvbi0xNngxNi5wbmciIHNpemVzPSIxNngxNiI+CiAgICA8bGluayByZWw9Im1hbmlmZXN0IiBocmVmPSJpbWcvbWFuaWZlc3QuanNvbiI+CiAgICA8bGluayByZWw9Im1hc2staWNvbiIgaHJlZj0iaW1nL3NhZmFyaS1waW5uZWQtdGFiLnN2ZyIgY29sb3I9IiM1YmJhZDUiPgogICAgPGxpbmsgcmVsPSJzaG9ydGN1dCBpY29uIiBocmVmPSJpbWcvZmF2aWNvbi5pY28iPgogICAgPG1ldGEgbmFtZT0iYXBwbGUtbW9iaWxlLXdlYi1hcHAtdGl0bGUiIGNvbnRlbnQ9IlJpbmdDZW50cmFsIj4KICAgIDxtZXRhIG5hbWU9ImFwcGxpY2F0aW9uLW5hbWUiIGNvbnRlbnQ9IlJpbmdDZW50cmFsIj4KICAgIDxtZXRhIG5hbWU9Im1zYXBwbGljYXRpb24tVGlsZUNvbG9yIiBjb250ZW50PSIjZGE1MzJjIj4KICAgIDxtZXRhIG5hbWU9Im1zYXBwbGljYXRpb24tVGlsZUltYWdlIiBjb250ZW50PSJpbWcvbXN0aWxlLTE0NHgxNDQucG5nIj4KICAgIDxtZXRhIG5hbWU9Im1zYXBwbGljYXRpb24tY29uZmlnIiBjb250ZW50PSJpbWcvYnJvd3NlcmNvbmZpZy54bWwiPgogICAgPG1ldGEgbmFtZT0idGhlbWUtY29sb3IiIGNvbnRlbnQ9IiNmZmZmZmYiPgo8L2hlYWQ+Cjxib2R5PgoKPGRpdiBjbGFzcz0iY29udGFpbmVyIj4KICAgIDxoMT5SaW5nQ2VudHJhbCBXZWJQaG9uZSBEZW1vPC9oMT4KICAgIDxkaXYgaWQ9ImFwcCI+PC9kaXY+CjwvZGl2PgoKPHZpZGVvIGlkPSJyZW1vdGVWaWRlbyIgaGlkZGVuPSJoaWRkZW4iPjwvdmlkZW8+Cjx2aWRlbyBpZD0ibG9jYWxWaWRlbyIgaGlkZGVuPSJoaWRkZW4iIG11dGVkPSJtdXRlZCI+PC92aWRlbz4KCjxzY3JpcHQgdHlwZT0idGV4dC9odG1sIiBpZD0idGVtcGxhdGUtaW5jb21pbmciPgoKICAgIDxkaXYgY2xhc3M9Im1vZGFsIGZhZGUiIHRhYmluZGV4PSItMSIgcm9sZT0iZGlhbG9nIj4KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1kaWFsb2ciPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50Ij4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWhlYWRlciI+CiAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzPSJtb2RhbC10aXRsZSI+SW5jb21pbmcgQ2FsbDwvaDQ+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWJvZHkiPgogICAgICAgICAgICAgICAgICAgIDxmb3JtIGNsYXNzPSJmb3JtLWlubGluZSBmb3J3YXJkLWZvcm0iPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5Gb3J3YXJkIFRvOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCIgbmFtZT0iZm9yd2FyZCIgcGxhY2Vob2xkZXI9IiI+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIHR5cGU9InN1Ym1pdCI+Rm9yd2FyZDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDwvZm9ybT4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtZm9vdGVyIGJlZm9yZS1hbnN3ZXIiPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc3VjY2VzcyBhbnN3ZXIiPkFuc3dlcjwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIGRlY2xpbmUiPkRlY2xpbmU8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtZm9vdGVyIGFuc3dlcmVkIiBzdHlsZT0iZGlzcGxheTogbm9uZSI+Q29ubmVjdGluZy4uLjwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKPC9zY3JpcHQ+Cgo8c2NyaXB0IHR5cGU9InRleHQvaHRtbCIgaWQ9InRlbXBsYXRlLWNhbGwiPgoKICAgIDxmb3JtIGNsYXNzPSJwYW5lbCBwYW5lbC1kZWZhdWx0Ij4KICAgICAgICA8ZGl2IGNsYXNzPSJwYW5lbC1oZWFkaW5nIj48aDMgY2xhc3M9InBhbmVsLXRpdGxlIj5NYWtlIEEgQ2FsbDwvaDM+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0icGFuZWwtYm9keSI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0taW5saW5lIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgIDxsYWJlbD5QaG9uZSBOdW1iZXI6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCIgbmFtZT0ibnVtYmVyIiBwbGFjZWhvbGRlcj0iKzEgKDIzNCkgNTY3LTg5MDEiPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8bGFiZWw+SG9tZSBDb3VudHJ5OjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIG5hbWU9ImhvbWVDb3VudHJ5IiB2YWx1ZT0iMSI+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgdHlwZT0ic3VibWl0Ij5DYWxsPC9idXR0b24+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9mb3JtPgoKPC9zY3JpcHQ+Cgo8c2NyaXB0IHR5cGU9InRleHQvaHRtbCIgaWQ9InRlbXBsYXRlLWxvZ2luIj4KCiAgICA8Zm9ybSBjbGFzcz0icGFuZWwgcGFuZWwtZGVmYXVsdCI+CiAgICAgICAgPGRpdiBjbGFzcz0icGFuZWwtaGVhZGluZyI+PGgzIGNsYXNzPSJwYW5lbC10aXRsZSI+TG9naW48L2gzPjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9InBhbmVsLWJvZHkiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgIDxsYWJlbD5TZXJ2ZXI6PC9sYWJlbD4KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIiBuYW1lPSJzZXJ2ZXIiPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICA8bGFiZWw+QXBwIEtleTo8L2xhYmVsPgogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIG5hbWU9ImFwcEtleSI+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgIDxsYWJlbD5BcHAgU2VjcmV0OjwvbGFiZWw+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCIgbmFtZT0iYXBwU2VjcmV0Ij4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgPGxhYmVsPkxvZ2luOjwvbGFiZWw+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCIgbmFtZT0ibG9naW4iIHBsYWNlaG9sZGVyPSIxODg4MTIzNDU2NyI+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgIDxsYWJlbD5FeHRlbnNpb246PC9sYWJlbD4KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIiBuYW1lPSJleHRlbnNpb24iIHBsYWNlaG9sZGVyPSIxMDEiPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICA8bGFiZWw+UGFzc3dvcmQ6PC9sYWJlbD4KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJwYXNzd29yZCIgY2xhc3M9ImZvcm0tY29udHJvbCIgbmFtZT0icGFzc3dvcmQiPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICA8bGFiZWw+TG9nTGV2ZWw6PC9sYWJlbD4KICAgICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9ImZvcm0tY29udHJvbCIgbmFtZT0ibG9nTGV2ZWwiPgogICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IjAiPjAgLSBFcnJvcjwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IjEiPjEgLSBXYXJuaW5nPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iMiI+MiAtIExvZzwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IjMiPjMgLSBEZWJ1Zzwvb3B0aW9uPgogICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9InBhbmVsLWZvb3RlciI+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgdHlwZT0ic3VibWl0Ij5Mb2dpbjwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgPC9mb3JtPgoKPC9zY3JpcHQ+Cgo8c2NyaXB0IHR5cGU9InRleHQvaHRtbCIgaWQ9InRlbXBsYXRlLWFjY2VwdGVkIj4KCiAgICA8ZGl2IGNsYXNzPSJtb2RhbCBmYWRlIiB0YWJpbmRleD0iLTEiIHJvbGU9ImRpYWxvZyI+CiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtZGlhbG9nIG1vZGFsLWxnIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oZWFkZXIiPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iY2xvc2UiIGRhdGEtZGlzbWlzcz0ibW9kYWwiIGFyaWEtbGFiZWw9IkNsb3NlIj4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49InRydWUiPiZ0aW1lczs8L3NwYW4+PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzPSJtb2RhbC10aXRsZSI+Q2FsbCBJbiBQcm9ncmVzcwogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkgaW5jcmVhc2Utdm9sdW1lIj4rIHJpbmcgdm9sdW1lPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSBkZWNyZWFzZS12b2x1bWUiPi0gcmluZyB2b2x1bWU8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8L2g0PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1ib2R5Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJidG4tdG9vbGJhciI+CiAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImJ0bi1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGVmYXVsdCBtdXRlIj5NdXRlPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGVmYXVsdCB1bm11dGUiPlVuTXV0ZTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iYnRuLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGVmYXVsdCBob2xkIj5Ib2xkPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgdW5ob2xkIj5VbkhvbGQ8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImJ0bi1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgc3RhcnRSZWNvcmQiPlN0YXJ0IFJlY29yZGluZzwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IHN0b3BSZWNvcmQiPlN0b3AgUmVjb3JkaW5nPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJidG4tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IHBhcmsiPlBhcms8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGhyLz4KICAgICAgICAgICAgICAgICAgICA8Zm9ybSBjbGFzcz0iZm9ybS1pbmxpbmUgZmxpcC1mb3JtIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+RmxpcDo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIG5hbWU9ImZsaXAiIHBsYWNlaG9sZGVyPSIxIC4uLiA4Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgdHlwZT0ic3VibWl0Ij5GbGlwPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPC9mb3JtPgogICAgICAgICAgICAgICAgICAgIDxoci8+CiAgICAgICAgICAgICAgICAgICAgPGZvcm0gY2xhc3M9ImZvcm0taW5saW5lIHRyYW5zZmVyLWZvcm0iPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5UcmFuc2Zlcjo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIG5hbWU9InRyYW5zZmVyIiBwbGFjZWhvbGRlcj0iKzEgMjM0IDU2Ny04OTAwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgdHlwZT0ic3VibWl0Ij5UcmFuc2ZlcjwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkgd2FybSIgdHlwZT0iYnV0dG9uIj5XYXJtPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJ0ZXh0LW11dGVkIj48c21hbGw+KiBQbGVhc2Ugbm90IHRoYXQgd2FybSB0cmFuc2ZlciBpbiB0aGlzIGRlbW8gd2lsbCBhdXRvbWF0aWNhbGx5IGNhbGwgY29tcGxldGVUcmFuc2ZlciB3L28gdXNlciBpbnRlcmFjdGlvbjwvc21hbGw+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9mb3JtPgogICAgICAgICAgICAgICAgICAgIDxoci8+CiAgICAgICAgICAgICAgICAgICAgPGZvcm0gY2xhc3M9ImZvcm0taW5saW5lIGR0bWYtZm9ybSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPkRUTUY6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIiBuYW1lPSJkdG1mIiBwbGFjZWhvbGRlcj0iIj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgdHlwZT0ic3VibWl0Ij5TZW5kPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPC9mb3JtPgogICAgICAgICAgICAgICAgICAgIDxoci8+CiAgICAgICAgICAgICAgICAgICAgPHByZSBjbGFzcz0iaW5mbyI+PC9wcmU+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWZvb3RlciI+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIgaGFuZ3VwIj5IYW5nIFVwPC9idXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCjwvc2NyaXB0PgoKPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iLy9jZG4uanNkZWxpdnIubmV0L2pxdWVyeS8zLjEuMS9qcXVlcnkuanMiPjwvc2NyaXB0Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIvL2Nkbi5qc2RlbGl2ci5uZXQvYm9vdHN0cmFwLzMuMy43L2pzL2Jvb3RzdHJhcC5qcyI+PC9zY3JpcHQ+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii8vY2RuLmpzZGVsaXZyLm5ldC9mZXRjaC8yLjAuMS9mZXRjaC5taW4uanMiPjwvc2NyaXB0Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIvL2Nkbi5qc2RlbGl2ci5uZXQvZXM2LXByb21pc2UvMy4xLjIvZXM2LXByb21pc2UuanMiPjwvc2NyaXB0Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIvL2Nkbi5wdWJudWIuY29tL3Nkay9qYXZhc2NyaXB0L3B1Ym51Yi40LjQuMi5qcyI+PC9zY3JpcHQ+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii8vY2RuLnJhd2dpdC5jb20vb25zaXAvU0lQLmpzLzAuNy42L2Rpc3Qvc2lwLTAuNy42LmpzIj48L3NjcmlwdD4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iLy9jZG4ucmF3Z2l0LmNvbS9yaW5nY2VudHJhbC9yaW5nY2VudHJhbC1qcy8zLjEuMC9idWlsZC9yaW5nY2VudHJhbC5qcyI+PC9zY3JpcHQ+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii4uL3NyYy9yaW5nY2VudHJhbC13ZWItcGhvbmUuanMiPjwvc2NyaXB0Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJpbmRleC5qcyI+PC9zY3JpcHQ+Cgo8L2JvZHk+CjwvaHRtbD4=</textarea>
<textarea class="saurus-file" data-file="demo/index.js" data-mode="javascript">JChmdW5jdGlvbigpIHsKCiAgICAvKiogQHR5cGUge1JpbmdDZW50cmFsLlNES30gKi8KICAgIHZhciBzZGsgPSBudWxsOwogICAgLyoqIEB0eXBlIHtQbGF0Zm9ybX0gKi8KICAgIHZhciBwbGF0Zm9ybSA9IG51bGw7CiAgICAvKiogQHR5cGUge1dlYlBob25lfSAqLwogICAgdmFyIHdlYlBob25lID0gbnVsbDsKCiAgICB2YXIgbG9nTGV2ZWwgPSAwOwogICAgdmFyIHVzZXJuYW1lID0gbnVsbDsKICAgIHZhciBleHRlbnNpb24gPSBudWxsOwogICAgdmFyIHNpcEluZm8gPSBudWxsOwogICAgdmFyICRhcHAgPSAkKCcjYXBwJyk7CgogICAgdmFyICRsb2dpblRlbXBsYXRlID0gJCgnI3RlbXBsYXRlLWxvZ2luJyk7CiAgICB2YXIgJGNhbGxUZW1wbGF0ZSA9ICQoJyN0ZW1wbGF0ZS1jYWxsJyk7CiAgICB2YXIgJGluY29taW5nVGVtcGxhdGUgPSAkKCcjdGVtcGxhdGUtaW5jb21pbmcnKTsKICAgIHZhciAkYWNjZXB0ZWRUZW1wbGF0ZSA9ICQoJyN0ZW1wbGF0ZS1hY2NlcHRlZCcpOwoKICAgIC8qKgogICAgICogQHBhcmFtIHtqUXVlcnl8SFRNTEVsZW1lbnR9ICR0cGwKICAgICAqIEByZXR1cm4ge2pRdWVyeXxIVE1MRWxlbWVudH0KICAgICAqLwogICAgZnVuY3Rpb24gY2xvbmVUZW1wbGF0ZSgkdHBsKSB7CiAgICAgICAgcmV0dXJuICQoJHRwbC5odG1sKCkpOwogICAgfQoKICAgIGZ1bmN0aW9uIGxvZ2luKHNlcnZlciwgYXBwS2V5LCBhcHBTZWNyZXQsIGxvZ2luLCBleHQsIHBhc3N3b3JkLCBsbCkgewoKICAgICAgICBzZGsgPSBuZXcgUmluZ0NlbnRyYWwuU0RLKHsKICAgICAgICAgICAgYXBwS2V5OiBhcHBLZXksCiAgICAgICAgICAgIGFwcFNlY3JldDogYXBwU2VjcmV0LAogICAgICAgICAgICBzZXJ2ZXI6IHNlcnZlcgogICAgICAgIH0pOwoKICAgICAgICBwbGF0Zm9ybSA9IHNkay5wbGF0Zm9ybSgpOwoKICAgICAgICAvLyBUT0RPOiBJbXByb3ZlIGxhdGVyIHRvIHN1cHBvcnQgaW50ZXJuYXRpb25hbCBwaG9uZSBudW1iZXIgY291bnRyeSBjb2RlcyBiZXR0ZXIKICAgICAgICBpZiAobG9naW4pIHsKICAgICAgICAgICAgbG9naW4gPSAobG9naW4ubWF0Y2goL15bXCsxXS8pKSA/IGxvZ2luIDogJzEnICsgbG9naW47CiAgICAgICAgICAgIGxvZ2luID0gbG9naW4ucmVwbGFjZSgvXFcvZywgJycpCiAgICAgICAgfQoKICAgICAgICBwbGF0Zm9ybQogICAgICAgICAgICAubG9naW4oewogICAgICAgICAgICAgICAgdXNlcm5hbWU6IGxvZ2luLAogICAgICAgICAgICAgICAgZXh0ZW5zaW9uOiBleHQgfHwgbnVsbCwKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZAogICAgICAgICAgICB9KQogICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHsKCiAgICAgICAgICAgICAgICBsb2dMZXZlbCA9IGxsOwogICAgICAgICAgICAgICAgdXNlcm5hbWUgPSBsb2dpbjsKCiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnd2ViUGhvbmVTZXJ2ZXInLCBzZXJ2ZXIgfHwgJycpOwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3dlYlBob25lQXBwS2V5JywgYXBwS2V5IHx8ICcnKTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd3ZWJQaG9uZUFwcFNlY3JldCcsIGFwcFNlY3JldCB8fCAnJyk7CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnd2ViUGhvbmVMb2dpbicsIGxvZ2luIHx8ICcnKTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd3ZWJQaG9uZUV4dGVuc2lvbicsIGV4dCB8fCAnJyk7CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnd2ViUGhvbmVQYXNzd29yZCcsIHBhc3N3b3JkIHx8ICcnKTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd3ZWJQaG9uZUxvZ0xldmVsJywgbG9nTGV2ZWwgfHwgMCk7CgogICAgICAgICAgICAgICAgcmV0dXJuIHBsYXRmb3JtLmdldCgnL3Jlc3RhcGkvdjEuMC9hY2NvdW50L34vZXh0ZW5zaW9uL34nKTsKCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlcykgewoKICAgICAgICAgICAgICAgIGV4dGVuc2lvbiA9IHJlcy5qc29uKCk7CgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0V4dGVuc2lvbiBpbmZvJywgZXh0ZW5zaW9uKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gcGxhdGZvcm0ucG9zdCgnL2NsaWVudC1pbmZvL3NpcC1wcm92aXNpb24nLCB7CiAgICAgICAgICAgICAgICAgICAgc2lwSW5mbzogW3sKICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNwb3J0OiAnV1NTJwogICAgICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlcykgeyByZXR1cm4gcmVzLmpzb24oKTsgfSkKICAgICAgICAgICAgLnRoZW4ocmVnaXN0ZXIpCiAgICAgICAgICAgIC50aGVuKG1ha2VDYWxsRm9ybSkKICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIG1haW4gcHJvbWlzZSBjaGFpbicpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLnN0YWNrIHx8IGUpOwogICAgICAgICAgICB9KTsKCiAgICB9CgogICAgZnVuY3Rpb24gcmVnaXN0ZXIoZGF0YSkgewoKICAgICAgICBzaXBJbmZvID0gZGF0YS5zaXBJbmZvWzBdIHx8IGRhdGEuc2lwSW5mbzsKCiAgICAgICAgd2ViUGhvbmUgPSBuZXcgUmluZ0NlbnRyYWwuV2ViUGhvbmUoZGF0YSwgewogICAgICAgICAgICBhcHBLZXk6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd3ZWJQaG9uZUFwcEtleScpLAogICAgICAgICAgICBhdWRpb0hlbHBlcjogewogICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZQogICAgICAgICAgICB9LAogICAgICAgICAgICBsb2dMZXZlbDogcGFyc2VJbnQobG9nTGV2ZWwsIDEwKQogICAgICAgIH0pOwoKICAgICAgICB3ZWJQaG9uZS51c2VyQWdlbnQuYXVkaW9IZWxwZXIubG9hZEF1ZGlvKHsKICAgICAgICAgICAgaW5jb21pbmc6ICcuLi9hdWRpby9pbmNvbWluZy5vZ2cnLAogICAgICAgICAgICBvdXRnb2luZzogJy4uL2F1ZGlvL291dGdvaW5nLm9nZycKICAgICAgICB9KQoKICAgICAgICB3ZWJQaG9uZS51c2VyQWdlbnQuYXVkaW9IZWxwZXIuc2V0Vm9sdW1lKC4zKTsKCiAgICAgICAgd2ViUGhvbmUudXNlckFnZW50Lm9uKCdpbnZpdGUnLCBvbkludml0ZSk7CiAgICAgICAgd2ViUGhvbmUudXNlckFnZW50Lm9uKCdjb25uZWN0aW5nJywgZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKCdVQSBjb25uZWN0aW5nJyk7IH0pOwogICAgICAgIHdlYlBob25lLnVzZXJBZ2VudC5vbignY29ubmVjdGVkJywgZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKCdVQSBDb25uZWN0ZWQnKTsgfSk7CiAgICAgICAgd2ViUGhvbmUudXNlckFnZW50Lm9uKCdkaXNjb25uZWN0ZWQnLCBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ1VBIERpc2Nvbm5lY3RlZCcpOyB9KTsKICAgICAgICB3ZWJQaG9uZS51c2VyQWdlbnQub24oJ3JlZ2lzdGVyZWQnLCBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ1VBIFJlZ2lzdGVyZWQnKTsgfSk7CiAgICAgICAgd2ViUGhvbmUudXNlckFnZW50Lm9uKCd1bnJlZ2lzdGVyZWQnLCBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ1VBIFVucmVnaXN0ZXJlZCcpOyB9KTsKICAgICAgICB3ZWJQaG9uZS51c2VyQWdlbnQub24oJ3JlZ2lzdHJhdGlvbkZhaWxlZCcsIGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnVUEgUmVnaXN0cmF0aW9uRmFpbGVkJywgYXJndW1lbnRzKTsgfSk7CiAgICAgICAgd2ViUGhvbmUudXNlckFnZW50Lm9uKCdtZXNzYWdlJywgZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKCdVQSBNZXNzYWdlJywgYXJndW1lbnRzKTsgfSk7CgogICAgICAgIHJldHVybiB3ZWJQaG9uZTsKCiAgICB9CgogICAgZnVuY3Rpb24gb25JbnZpdGUoc2Vzc2lvbikgewoKICAgICAgICBjb25zb2xlLmxvZygnRVZFTlQ6IEludml0ZScsIHNlc3Npb24ucmVxdWVzdCk7CiAgICAgICAgY29uc29sZS5sb2coJ1RvJywgc2Vzc2lvbi5yZXF1ZXN0LnRvLmRpc3BsYXlOYW1lLCBzZXNzaW9uLnJlcXVlc3QudG8uZnJpZW5kbHlOYW1lKTsKICAgICAgICBjb25zb2xlLmxvZygnRnJvbScsIHNlc3Npb24ucmVxdWVzdC5mcm9tLmRpc3BsYXlOYW1lLCBzZXNzaW9uLnJlcXVlc3QuZnJvbS5mcmllbmRseU5hbWUpOwoKICAgICAgICB2YXIgJG1vZGFsID0gY2xvbmVUZW1wbGF0ZSgkaW5jb21pbmdUZW1wbGF0ZSkubW9kYWwoe2JhY2tkcm9wOiAnc3RhdGljJ30pOwoKICAgICAgICB2YXIgYWNjZXB0T3B0aW9ucyA9IHsKICAgICAgICAgICAgbWVkaWE6IHsKICAgICAgICAgICAgICAgIHJlbmRlcjogewogICAgICAgICAgICAgICAgICAgIHJlbW90ZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlbW90ZVZpZGVvJyksCiAgICAgICAgICAgICAgICAgICAgbG9jYWw6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2NhbFZpZGVvJykKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgICRtb2RhbC5maW5kKCcuYW5zd2VyJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICRtb2RhbC5maW5kKCcuYmVmb3JlLWFuc3dlcicpLmNzcygnZGlzcGxheScsICdub25lJyk7CiAgICAgICAgICAgICRtb2RhbC5maW5kKCcuYW5zd2VyZWQnKS5jc3MoJ2Rpc3BsYXknLCAnJyk7CiAgICAgICAgICAgIHNlc3Npb24uYWNjZXB0KGFjY2VwdE9wdGlvbnMpCiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAkbW9kYWwubW9kYWwoJ2hpZGUnKTsKICAgICAgICAgICAgICAgICAgICBvbkFjY2VwdGVkKHNlc3Npb24pOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbihlKSB7IGNvbnNvbGUuZXJyb3IoJ0FjY2VwdCBmYWlsZWQnLCBlLnN0YWNrIHx8IGUpOyB9KTsKICAgICAgICB9KTsKCiAgICAgICAgJG1vZGFsLmZpbmQoJy5kZWNsaW5lJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHNlc3Npb24ucmVqZWN0KCk7CiAgICAgICAgfSk7CgogICAgICAgICRtb2RhbC5maW5kKCcuZm9yd2FyZC1mb3JtJykub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICBzZXNzaW9uLmZvcndhcmQoJG1vZGFsLmZpbmQoJ2lucHV0W25hbWU9Zm9yd2FyZF0nKS52YWwoKS50cmltKCksIGFjY2VwdE9wdGlvbnMpCiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRm9yd2FyZGVkJyk7CiAgICAgICAgICAgICAgICAgICAgJG1vZGFsLm1vZGFsKCdoaWRlJyk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGUpIHsgY29uc29sZS5lcnJvcignRm9yd2FyZCBmYWlsZWQnLCBlLnN0YWNrIHx8IGUpOyB9KTsKICAgICAgICB9KTsKCiAgICAgICAgc2Vzc2lvbi5vbigncmVqZWN0ZWQnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgJG1vZGFsLm1vZGFsKCdoaWRlJyk7CiAgICAgICAgfSk7CgogICAgfQoKICAgIGZ1bmN0aW9uIG9uQWNjZXB0ZWQoc2Vzc2lvbikgewoKICAgICAgICBjb25zb2xlLmxvZygnRVZFTlQ6IEFjY2VwdGVkJywgc2Vzc2lvbi5yZXF1ZXN0KTsKICAgICAgICBjb25zb2xlLmxvZygnVG8nLCBzZXNzaW9uLnJlcXVlc3QudG8uZGlzcGxheU5hbWUsIHNlc3Npb24ucmVxdWVzdC50by5mcmllbmRseU5hbWUpOwogICAgICAgIGNvbnNvbGUubG9nKCdGcm9tJywgc2Vzc2lvbi5yZXF1ZXN0LmZyb20uZGlzcGxheU5hbWUsIHNlc3Npb24ucmVxdWVzdC5mcm9tLmZyaWVuZGx5TmFtZSk7CgogICAgICAgIHZhciAkbW9kYWwgPSBjbG9uZVRlbXBsYXRlKCRhY2NlcHRlZFRlbXBsYXRlKS5tb2RhbCgpOwoKICAgICAgICB2YXIgJGluZm8gPSAkbW9kYWwuZmluZCgnLmluZm8nKS5lcSgwKTsKICAgICAgICB2YXIgJGR0bWYgPSAkbW9kYWwuZmluZCgnaW5wdXRbbmFtZT1kdG1mXScpLmVxKDApOwogICAgICAgIHZhciAkdHJhbnNmZXIgPSAkbW9kYWwuZmluZCgnaW5wdXRbbmFtZT10cmFuc2Zlcl0nKS5lcSgwKTsKICAgICAgICB2YXIgJGZsaXAgPSAkbW9kYWwuZmluZCgnaW5wdXRbbmFtZT1mbGlwXScpLmVxKDApOwoKICAgICAgICB2YXIgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKCiAgICAgICAgICAgIHZhciB0aW1lID0gc2Vzc2lvbi5zdGFydFRpbWUgPyAoTWF0aC5yb3VuZCgoRGF0ZS5ub3coKSAtIHNlc3Npb24uc3RhcnRUaW1lKSAvIDEwMDApICsgJ3MnKSA6ICdSaW5naW5nJzsKCiAgICAgICAgICAgICRpbmZvLnRleHQoCiAgICAgICAgICAgICAgICAndGltZTogJyArIHRpbWUgKyAnXG4nICsKICAgICAgICAgICAgICAgICdzdGFydFRpbWU6ICcgKyBKU09OLnN0cmluZ2lmeShzZXNzaW9uLnN0YXJ0VGltZSwgbnVsbCwgMikgKyAnXG4nCiAgICAgICAgICAgICk7CgogICAgICAgIH0sIDEwMDApOwoKICAgICAgICBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7CiAgICAgICAgICAgICRtb2RhbC5tb2RhbCgnaGlkZScpOwogICAgICAgIH0KCiAgICAgICAgJG1vZGFsLmZpbmQoJy5pbmNyZWFzZS12b2x1bWUnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgc2Vzc2lvbi51YS5hdWRpb0hlbHBlci5zZXRWb2x1bWUoCiAgICAgICAgICAgICAgICAoc2Vzc2lvbi51YS5hdWRpb0hlbHBlci52b2x1bWUgIT0gbnVsbCA/IHNlc3Npb24udWEuYXVkaW9IZWxwZXIudm9sdW1lIDogLjUpICsgLjEKICAgICAgICAgICAgKTsKICAgICAgICB9KTsKCiAgICAgICAgJG1vZGFsLmZpbmQoJy5kZWNyZWFzZS12b2x1bWUnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgc2Vzc2lvbi51YS5hdWRpb0hlbHBlci5zZXRWb2x1bWUoCiAgICAgICAgICAgICAgICAoc2Vzc2lvbi51YS5hdWRpb0hlbHBlci52b2x1bWUgIT0gbnVsbCA/IHNlc3Npb24udWEuYXVkaW9IZWxwZXIudm9sdW1lIDogLjUpIC0gLjEKICAgICAgICAgICAgKTsKICAgICAgICB9KTsKCiAgICAgICAgJG1vZGFsLmZpbmQoJy5tdXRlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHNlc3Npb24ubXV0ZSgpOwogICAgICAgIH0pOwoKICAgICAgICAkbW9kYWwuZmluZCgnLnVubXV0ZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBzZXNzaW9uLnVubXV0ZSgpOwogICAgICAgIH0pOwoKICAgICAgICAkbW9kYWwuZmluZCgnLmhvbGQnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgc2Vzc2lvbi5ob2xkKCkudGhlbihmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ0hvbGRpbmcnKTsgfSkuY2F0Y2goZnVuY3Rpb24oZSkgeyBjb25zb2xlLmVycm9yKCdIb2xkaW5nIGZhaWxlZCcsIGUuc3RhY2sgfHwgZSk7IH0pOwogICAgICAgIH0pOwoKICAgICAgICAkbW9kYWwuZmluZCgnLnVuaG9sZCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBzZXNzaW9uLnVuaG9sZCgpLnRoZW4oZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKCdVbkhvbGRpbmcnKTsgfSkuY2F0Y2goZnVuY3Rpb24oZSkgeyBjb25zb2xlLmVycm9yKCdVbkhvbGRpbmcgZmFpbGVkJywgZS5zdGFjayB8fCBlKTsgfSk7CiAgICAgICAgfSk7CiAgICAgICAgJG1vZGFsLmZpbmQoJy5zdGFydFJlY29yZCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBzZXNzaW9uLnN0YXJ0UmVjb3JkKCkudGhlbihmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ1JlY29yZGluZyBTdGFydGVkJyk7IH0pLmNhdGNoKGZ1bmN0aW9uKGUpIHsgY29uc29sZS5lcnJvcignUmVjb3JkaW5nIFN0YXJ0IGZhaWxlZCcsIGUuc3RhY2sgfHwgZSk7IH0pOwogICAgICAgIH0pOwoKICAgICAgICAkbW9kYWwuZmluZCgnLnN0b3BSZWNvcmQnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgc2Vzc2lvbi5zdG9wUmVjb3JkKCkudGhlbihmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ1JlY29yZGluZyBTdG9wcGVkJyk7IH0pLmNhdGNoKGZ1bmN0aW9uKGUpIHsgY29uc29sZS5lcnJvcignUmVjb3JkaW5nIFN0b3AgZmFpbGVkJywgZS5zdGFjayB8fCBlKTsgfSk7CiAgICAgICAgfSk7CgogICAgICAgICRtb2RhbC5maW5kKCcucGFyaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBzZXNzaW9uLnBhcmsoKS50aGVuKGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnUGFya2VkJyk7IH0pLmNhdGNoKGZ1bmN0aW9uKGUpIHsgY29uc29sZS5lcnJvcignUGFyayBmYWlsZWQnLCBlLnN0YWNrIHx8IGUpOyB9KTsKICAgICAgICB9KTsKCiAgICAgICAgJG1vZGFsLmZpbmQoJy50cmFuc2Zlci1mb3JtJykub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICBzZXNzaW9uLnRyYW5zZmVyKCR0cmFuc2Zlci52YWwoKS50cmltKCkpLnRoZW4oZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKCdUcmFuc2ZlcnJlZCcpOyB9KS5jYXRjaChmdW5jdGlvbihlKSB7IGNvbnNvbGUuZXJyb3IoJ1RyYW5zZmVyIGZhaWxlZCcsIGUuc3RhY2sgfHwgZSk7IH0pOwogICAgICAgIH0pOwoKICAgICAgICAkbW9kYWwuZmluZCgnLnRyYW5zZmVyLWZvcm0gYnV0dG9uLndhcm0nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgc2Vzc2lvbi5ob2xkKCkudGhlbihmdW5jdGlvbigpIHsKCiAgICAgICAgICAgICAgICB2YXIgbmV3U2Vzc2lvbiA9IHNlc3Npb24udWEuaW52aXRlKCR0cmFuc2Zlci52YWwoKS50cmltKCksIHsKICAgICAgICAgICAgICAgICAgICBtZWRpYTogewogICAgICAgICAgICAgICAgICAgICAgICByZW5kZXI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlbW90ZVZpZGVvJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvY2FsVmlkZW8nKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgbmV3U2Vzc2lvbi5vbmNlKCdhY2NlcHRlZCcsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIHNlc3Npb24ud2FybVRyYW5zZmVyKG5ld1Nlc3Npb24pCiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnVHJhbnNmZXJyZWQnKTsgfSkKICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGUpIHsgY29uc29sZS5lcnJvcignVHJhbnNmZXIgZmFpbGVkJywgZS5zdGFjayB8fCBlKTsgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIH0pOwoKICAgICAgICB9KTsKCiAgICAgICAgJG1vZGFsLmZpbmQoJy5mbGlwLWZvcm0nKS5vbignc3VibWl0JywgZnVuY3Rpb24oZSkgewogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgIHNlc3Npb24uZmxpcCgkZmxpcC52YWwoKS50cmltKCkpLnRoZW4oZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKCdGbGlwcGVkJyk7IH0pLmNhdGNoKGZ1bmN0aW9uKGUpIHsgY29uc29sZS5lcnJvcignRmxpcCBmYWlsZWQnLCBlLnN0YWNrIHx8IGUpOyB9KTsKICAgICAgICAgICAgJGZsaXAudmFsKCcnKTsKICAgICAgICB9KTsKCiAgICAgICAgJG1vZGFsLmZpbmQoJy5kdG1mLWZvcm0nKS5vbignc3VibWl0JywgZnVuY3Rpb24oZSkgewogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgIHNlc3Npb24uZHRtZigkZHRtZi52YWwoKS50cmltKCkpOwogICAgICAgICAgICAkZHRtZi52YWwoJycpOwogICAgICAgIH0pOwoKICAgICAgICAkbW9kYWwuZmluZCgnLmhhbmd1cCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBzZXNzaW9uLnRlcm1pbmF0ZSgpOwogICAgICAgIH0pOwoKICAgICAgICBzZXNzaW9uLm9uKCdhY2NlcHRlZCcsIGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnRXZlbnQ6IEFjY2VwdGVkJyk7IH0pOwogICAgICAgIHNlc3Npb24ub24oJ3Byb2dyZXNzJywgZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKCdFdmVudDogUHJvZ3Jlc3MnKTsgfSk7CiAgICAgICAgc2Vzc2lvbi5vbigncmVqZWN0ZWQnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ0V2ZW50OiBSZWplY3RlZCcpOwogICAgICAgICAgICBjbG9zZSgpOwogICAgICAgIH0pOwogICAgICAgIHNlc3Npb24ub24oJ2ZhaWxlZCcsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBjb25zb2xlLmxvZygnRXZlbnQ6IEZhaWxlZCcpOwogICAgICAgICAgICBjbG9zZSgpOwogICAgICAgIH0pOwogICAgICAgIHNlc3Npb24ub24oJ3Rlcm1pbmF0ZWQnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ0V2ZW50OiBUZXJtaW5hdGVkJyk7CiAgICAgICAgICAgIGNsb3NlKCk7CiAgICAgICAgfSk7CiAgICAgICAgc2Vzc2lvbi5vbignY2FuY2VsJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFdmVudDogQ2FuY2VsJyk7CiAgICAgICAgICAgIGNsb3NlKCk7CiAgICAgICAgfSk7CiAgICAgICAgc2Vzc2lvbi5vbigncmVmZXInLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ0V2ZW50OiBSZWZlcicpOwogICAgICAgICAgICBjbG9zZSgpOwogICAgICAgIH0pOwogICAgICAgIHNlc3Npb24ub24oJ3JlcGxhY2VkJywgZnVuY3Rpb24obmV3U2Vzc2lvbikgewogICAgICAgICAgICBjb25zb2xlLmxvZygnRXZlbnQ6IFJlcGxhY2VkOiBvbGQgc2Vzc2lvbicsIHNlc3Npb24sICdoYXMgYmVlbiByZXBsYWNlZCB3aXRoJywgbmV3U2Vzc2lvbik7CiAgICAgICAgICAgIGNsb3NlKCk7CiAgICAgICAgICAgIG9uQWNjZXB0ZWQobmV3U2Vzc2lvbik7CiAgICAgICAgfSk7CiAgICAgICAgc2Vzc2lvbi5vbignZHRtZicsIGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnRXZlbnQ6IERUTUYnKTsgfSk7CiAgICAgICAgc2Vzc2lvbi5vbignbXV0ZWQnLCBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ0V2ZW50OiBNdXRlZCcpOyB9KTsKICAgICAgICBzZXNzaW9uLm9uKCd1bm11dGVkJywgZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKCdFdmVudDogVW5tdXRlZCcpOyB9KTsKICAgICAgICBzZXNzaW9uLm9uKCdjb25uZWN0aW5nJywgZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKCdFdmVudDogQ29ubmVjdGluZycpOyB9KTsKICAgICAgICBzZXNzaW9uLm9uKCdieWUnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ0V2ZW50OiBCeWUnKTsKICAgICAgICAgICAgY2xvc2UoKTsKICAgICAgICB9KTsKCiAgICAgICAgc2Vzc2lvbi5tZWRpYUhhbmRsZXIub24oJ2ljZUNvbm5lY3Rpb24nLCBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ0V2ZW50OiBJQ0U6IGljZUNvbm5lY3Rpb24nKTsgfSk7CiAgICAgICAgc2Vzc2lvbi5tZWRpYUhhbmRsZXIub24oJ2ljZUNvbm5lY3Rpb25DaGVja2luZycsIGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnRXZlbnQ6IElDRTogaWNlQ29ubmVjdGlvbkNoZWNraW5nJyk7IH0pOwogICAgICAgIHNlc3Npb24ubWVkaWFIYW5kbGVyLm9uKCdpY2VDb25uZWN0aW9uQ29ubmVjdGVkJywgZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKCdFdmVudDogSUNFOiBpY2VDb25uZWN0aW9uQ29ubmVjdGVkJyk7IH0pOwogICAgICAgIHNlc3Npb24ubWVkaWFIYW5kbGVyLm9uKCdpY2VDb25uZWN0aW9uQ29tcGxldGVkJywgZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKCdFdmVudDogSUNFOiBpY2VDb25uZWN0aW9uQ29tcGxldGVkJyk7IH0pOwogICAgICAgIHNlc3Npb24ubWVkaWFIYW5kbGVyLm9uKCdpY2VDb25uZWN0aW9uRmFpbGVkJywgZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKCdFdmVudDogSUNFOiBpY2VDb25uZWN0aW9uRmFpbGVkJyk7IH0pOwogICAgICAgIHNlc3Npb24ubWVkaWFIYW5kbGVyLm9uKCdpY2VDb25uZWN0aW9uRGlzY29ubmVjdGVkJywgZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKCdFdmVudDogSUNFOiBpY2VDb25uZWN0aW9uRGlzY29ubmVjdGVkJyk7IH0pOwogICAgICAgIHNlc3Npb24ubWVkaWFIYW5kbGVyLm9uKCdpY2VDb25uZWN0aW9uQ2xvc2VkJywgZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKCdFdmVudDogSUNFOiBpY2VDb25uZWN0aW9uQ2xvc2VkJyk7IH0pOwogICAgICAgIHNlc3Npb24ubWVkaWFIYW5kbGVyLm9uKCdpY2VHYXRoZXJpbmdDb21wbGV0ZScsIGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnRXZlbnQ6IElDRTogaWNlR2F0aGVyaW5nQ29tcGxldGUnKTsgfSk7CiAgICAgICAgc2Vzc2lvbi5tZWRpYUhhbmRsZXIub24oJ2ljZUdhdGhlcmluZycsIGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnRXZlbnQ6IElDRTogaWNlR2F0aGVyaW5nJyk7IH0pOwogICAgICAgIHNlc3Npb24ubWVkaWFIYW5kbGVyLm9uKCdpY2VDYW5kaWRhdGUnLCBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ0V2ZW50OiBJQ0U6IGljZUNhbmRpZGF0ZScpOyB9KTsKICAgICAgICBzZXNzaW9uLm1lZGlhSGFuZGxlci5vbigndXNlck1lZGlhJywgZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKCdFdmVudDogSUNFOiB1c2VyTWVkaWEnKTsgfSk7CiAgICAgICAgc2Vzc2lvbi5tZWRpYUhhbmRsZXIub24oJ3VzZXJNZWRpYVJlcXVlc3QnLCBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ0V2ZW50OiBJQ0U6IHVzZXJNZWRpYVJlcXVlc3QnKTsgfSk7CiAgICAgICAgc2Vzc2lvbi5tZWRpYUhhbmRsZXIub24oJ3VzZXJNZWRpYUZhaWxlZCcsIGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnRXZlbnQ6IElDRTogdXNlck1lZGlhRmFpbGVkJyk7IH0pOwoKICAgIH0KCiAgICBmdW5jdGlvbiBtYWtlQ2FsbChudW1iZXIsIGhvbWVDb3VudHJ5SWQpIHsKCiAgICAgICAgaG9tZUNvdW50cnlJZCA9IGhvbWVDb3VudHJ5SWQKICAgICAgICAgICAgICAgICAgICAgIHx8IChleHRlbnNpb24gJiYgZXh0ZW5zaW9uLnJlZ2lvbmFsU2V0dGluZ3MgJiYgZXh0ZW5zaW9uLnJlZ2lvbmFsU2V0dGluZ3MuaG9tZUNvdW50cnkgJiYgZXh0ZW5zaW9uLnJlZ2lvbmFsU2V0dGluZ3MuaG9tZUNvdW50cnkuaWQpCiAgICAgICAgICAgICAgICAgICAgICB8fCBudWxsOwoKICAgICAgICB2YXIgc2Vzc2lvbiA9IHdlYlBob25lLnVzZXJBZ2VudC5pbnZpdGUobnVtYmVyLCB7CiAgICAgICAgICAgIG1lZGlhOiB7CiAgICAgICAgICAgICAgICByZW5kZXI6IHsKICAgICAgICAgICAgICAgICAgICByZW1vdGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZW1vdGVWaWRlbycpLAogICAgICAgICAgICAgICAgICAgIGxvY2FsOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9jYWxWaWRlbycpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGZyb21OdW1iZXI6IHVzZXJuYW1lLAogICAgICAgICAgICBob21lQ291bnRyeUlkOiBob21lQ291bnRyeUlkCiAgICAgICAgfSk7CgogICAgICAgIG9uQWNjZXB0ZWQoc2Vzc2lvbik7CgogICAgfQoKICAgIGZ1bmN0aW9uIG1ha2VDYWxsRm9ybSgpIHsKCiAgICAgICAgdmFyICRmb3JtID0gY2xvbmVUZW1wbGF0ZSgkY2FsbFRlbXBsYXRlKTsKCiAgICAgICAgdmFyICRudW1iZXIgPSAkZm9ybS5maW5kKCdpbnB1dFtuYW1lPW51bWJlcl0nKS5lcSgwKTsKICAgICAgICB2YXIgJGhvbWVDb3VudHJ5ID0gJGZvcm0uZmluZCgnaW5wdXRbbmFtZT1ob21lQ291bnRyeV0nKS5lcSgwKTsKCiAgICAgICAgJG51bWJlci52YWwobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3dlYlBob25lTGFzdE51bWJlcicpIHx8ICcnKTsKCiAgICAgICAgJGZvcm0ub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uKGUpIHsKCiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKCiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd3ZWJQaG9uZUxhc3ROdW1iZXInLCAkbnVtYmVyLnZhbCgpIHx8ICcnKTsKCiAgICAgICAgICAgIG1ha2VDYWxsKCRudW1iZXIudmFsKCksICRob21lQ291bnRyeS52YWwoKSk7CgogICAgICAgIH0pOwoKICAgICAgICAkYXBwLmVtcHR5KCkuYXBwZW5kKCRmb3JtKTsKCiAgICB9CgogICAgZnVuY3Rpb24gbWFrZUxvZ2luRm9ybSgpIHsKCiAgICAgICAgdmFyICRmb3JtID0gY2xvbmVUZW1wbGF0ZSgkbG9naW5UZW1wbGF0ZSk7CgogICAgICAgIHZhciAkc2VydmVyID0gJGZvcm0uZmluZCgnaW5wdXRbbmFtZT1zZXJ2ZXJdJykuZXEoMCk7CiAgICAgICAgdmFyICRhcHBLZXkgPSAkZm9ybS5maW5kKCdpbnB1dFtuYW1lPWFwcEtleV0nKS5lcSgwKTsKICAgICAgICB2YXIgJGFwcFNlY3JldCA9ICRmb3JtLmZpbmQoJ2lucHV0W25hbWU9YXBwU2VjcmV0XScpLmVxKDApOwogICAgICAgIHZhciAkbG9naW4gPSAkZm9ybS5maW5kKCdpbnB1dFtuYW1lPWxvZ2luXScpLmVxKDApOwogICAgICAgIHZhciAkZXh0ID0gJGZvcm0uZmluZCgnaW5wdXRbbmFtZT1leHRlbnNpb25dJykuZXEoMCk7CiAgICAgICAgdmFyICRwYXNzd29yZCA9ICRmb3JtLmZpbmQoJ2lucHV0W25hbWU9cGFzc3dvcmRdJykuZXEoMCk7CiAgICAgICAgdmFyICRsb2dMZXZlbCA9ICRmb3JtLmZpbmQoJ3NlbGVjdFtuYW1lPWxvZ0xldmVsXScpLmVxKDApOwoKICAgICAgICAkc2VydmVyLnZhbChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnd2ViUGhvbmVTZXJ2ZXInKSB8fCBSaW5nQ2VudHJhbC5TREsuc2VydmVyLnNhbmRib3gpOwogICAgICAgICRhcHBLZXkudmFsKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd3ZWJQaG9uZUFwcEtleScpIHx8ICcnKTsKICAgICAgICAkYXBwU2VjcmV0LnZhbChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnd2ViUGhvbmVBcHBTZWNyZXQnKSB8fCAnJyk7CiAgICAgICAgJGxvZ2luLnZhbChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnd2ViUGhvbmVMb2dpbicpIHx8ICcnKTsKICAgICAgICAkZXh0LnZhbChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnd2ViUGhvbmVFeHRlbnNpb24nKSB8fCAnJyk7CiAgICAgICAgJHBhc3N3b3JkLnZhbChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnd2ViUGhvbmVQYXNzd29yZCcpIHx8ICcnKTsKICAgICAgICAkbG9nTGV2ZWwudmFsKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd3ZWJQaG9uZUxvZ0xldmVsJykgfHwgbG9nTGV2ZWwpOwoKICAgICAgICAkZm9ybS5vbignc3VibWl0JywgZnVuY3Rpb24oZSkgewoKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwoKICAgICAgICAgICAgbG9naW4oJHNlcnZlci52YWwoKSwgJGFwcEtleS52YWwoKSwgJGFwcFNlY3JldC52YWwoKSwgJGxvZ2luLnZhbCgpLCAkZXh0LnZhbCgpLCAkcGFzc3dvcmQudmFsKCksICRsb2dMZXZlbC52YWwoKSk7CgogICAgICAgIH0pOwoKICAgICAgICAkYXBwLmVtcHR5KCkuYXBwZW5kKCRmb3JtKTsKCiAgICB9CgogICAgbWFrZUxvZ2luRm9ybSgpOwoKfSk7Cg==</textarea>
</div>
</div><div class="saurus-overview"><ul></ul></div></div><div class="saurus-code"><div class="file-path"><span class="crumb-container"></span><i class="fa fa-fw fa-folder"></i></div><div class="saurus-editor"></div></div><div class="saurus-explorer"><div class="saurus-file-list"></div><div class="saurus-file-actions"><a href="https://github.com/ringcentral-tutorials/getting-started-with-webrtc-js-demo" target="_blank" class="explorer-get-code"><i class="fa fa-lg fa-github-square"></i>View Code on GitHub</a><a href="https://github.com/ringcentral-tutorials/getting-started-with-webrtc-js-demo/archive/master.zip" target="_blank" class="explorer-get-code"><i class="fa fa-lg icon-download"></i>Download Source Code</a></div></div></div></div><footer><div class="footer-content"><div class="footer-content-row layout-2-cols"><div class="footer-content-row-left"><div class="footer-logo"><a href="http://www.ringcentral.com"><span>Back to the main site</span></a></div></div><div class="footer-content-row-right"><ul class="footer-text-links"><li><a href="http://www.ringcentral.com/legal.html" target="_blank"><span>Legal</span></a></li><li><a href="http://www.ringcentral.com/security-statement.html" target="_blank"><span>Security Policy</span></a></li><li><a href="http://www.ringcentral.com/legal/privacy-policy.html" target="_blank"><span>Privacy Policy</span></a></li><li><a ng-href="https://devcommunity.ringcentral.com" target="_blank" href="https://devcommunity.ringcentral.com"><span>Community</span></a></li><li><a href="https://medium.com/ringcentral-developers" target="_blank"><span>Blog</span></a></li></ul></div></div><div class="footer-content-row footer-content-row-last layout-2-cols"><div class="footer-content-row-left"><span class="footer-copyright">© 1999-<span ng-bind="::main.nowObj|date:'yyyy'" class="footer-copyright-to ng-binding">2017</span> RingCentral, Inc. All rights reserved.</span></div><div class="footer-content-row-right"><div class="footer-image-links"><div class="footer-image-link footer-image-link-facebook"><a target="_blank" href="http://www.facebook.com/ringcentral"><i class="fa icon-facebook"></i></a></div><div class="footer-image-link footer-image-link-twitter"><a target="_blank" href="http://twitter.com/ringcentraldevs"><i class="fa icon-twitter"></i></a></div><div class="footer-image-link footer-image-link-google-plus"><a target="_blank" href="https://www.google.com/+ringcentral"><i class="fa icon-google_plus"></i></a></div><div class="footer-image-link footer-image-link-linkedin"><a target="_blank" href="http://www.linkedin.com/company/ringcentral"><i class="fa icon-linkedin"></i></a></div><div class="footer-image-link footer-image-link-youtube"><a target="_blank" href="http://www.youtube.com/ringcentral"><i class="fa icon-youtube"></i></a></div></div></div></div></div></footer></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js"></script><script src="ace/ace.js"></script><script src="ace/theme-monokai.js"></script><script>window.tutorialName="Getting Started with WebRTC";</script><script src="viewsaurus.js"></script></body></html>